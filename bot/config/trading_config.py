# config/trading_config.py
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ —Å–ø–∏—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã—Ö –∞–∫—Ü–∏–π.
"""

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞)
ALL_TICKERS = [
    'SBER',    # –°–±–µ—Ä–±–∞–Ω–∫
    'VTBR',    # –í–¢–ë
    'GAZP',    # –ì–∞–∑–ø—Ä–æ–º
    'T',       # –ú–¢–° (T)
    'SNGSP',   # –°—É—Ä–≥—É—Ç–Ω–µ—Ñ—Ç–µ–≥–∞–∑ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
    'AFLT',    # –ê—ç—Ä–æ—Ñ–ª–æ—Ç
    'GMKN',    # –ù–æ—Ä–Ω–∏–∫–µ–ª—å
    'SMLT',    # –°–ú–õ–¢ (–Ω–µ —É–≤–µ—Ä–µ–Ω, –≤–æ–∑–º–æ–∂–Ω–æ –æ—à–∏–±–∫–∞ –≤ —Ç–∏–∫–µ—Ä–µ)
    'LKOH',    # –õ—É–∫–æ–π–ª
    'YDEX',    # –Ø–Ω–¥–µ–∫—Å
    'SVCB',    # –°–æ–≤–∫–æ–º–±–∞–Ω–∫
    'PLZL',    # –ü–æ–ª—é—Å
    'ROSN',    # –†–æ—Å–Ω–µ—Ñ—Ç—å
    'SNGS',    # –°—É—Ä–≥—É—Ç–Ω–µ—Ñ—Ç–µ–≥–∞–∑ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)
    'AFKS',    # –ê–§–ö –°–∏—Å—Ç–µ–º–∞
    'X5',      # X5 Retail Group
    'SBERP',   # –°–±–µ—Ä–±–∞–Ω–∫ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
    'NVTK',    # –ù–æ–≤–∞—Ç—ç–∫
    'MOEX',    # –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞
    'CHMF',    # –°–µ–≤–µ—Ä—Å—Ç–∞–ª—å
    'VKCO',    # VK (–±—ã–≤—à–∏–π Mail.ru)
    'PIKK',    # –ü–ò–ö
    'NLMK',    # –ù–õ–ú–ö
    'SPBE',    # –°–ü–ë –ë–∏—Ä–∂–∞
    'MGNT',    # –ú–∞–≥–Ω–∏—Ç
    'MTSS',    # –ú–¢–°
    'HEAD',    # HeadHunter
    'ALRS',    # –ê–ª—Ä–æ—Å–∞
    'TRNFP',   # –¢—Ä–∞–Ω—Å–Ω–µ—Ñ—Ç—å
    'POSI',    # Positiv Technologies
    'TATN',    # –¢–∞—Ç–Ω–µ—Ñ—Ç—å
    'MTLR',    # –ú–µ—á–µ–ª
    'SIBN',    # –ì–∞–∑–ø—Ä–æ–º –Ω–µ—Ñ—Ç—å (–±—ã–≤—à–∏–π –°–∏–±–Ω–µ—Ñ—Ç—å)
    'UPRO',    # –Æ–Ω–∏–ø—Ä–æ
    'RNFT',    # –†—É—Å—Å–Ω–µ—Ñ—Ç—å
    'FLOT'     # –°–æ–≤–∫–æ–º—Ñ–ª–æ—Ç
]

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏
TRADING_CONFIG = {
    # –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑ ALL_TICKERS)
    'tickers': ALL_TICKERS,  # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å–µ –∞–∫—Ü–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞
    
    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 –ª–æ—Ç)
    'quantities': {ticker: 1 for ticker in ALL_TICKERS},
    
    # –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ç–æ—Ä–≥–æ–≤ (–ú–°–ö)
    'trading_start_time': '07:05:00',
    
    # –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–æ—Ä–≥–æ–≤ (–ú–°–ö)
    'trading_end_time': '23:40:00',
    
    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    'history_days': 30,
    
    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
    'fetch_interval': 60,
    
    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
    'max_daily_trades': 200,
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–∫—Ä–∏–Ω–µ—Ä–∞
    'screener': {
        'min_history_days': 20,      # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        'rsi_period': 14,             # –ü–µ—Ä–∏–æ–¥ RSI
        'sma_fast': 20,                # –ë—ã—Å—Ç—Ä–∞—è SMA
        'sma_slow': 50,                # –ú–µ–¥–ª–µ–Ω–Ω–∞—è SMA
        'bb_period': 20,                # –ü–µ—Ä–∏–æ–¥ Bollinger Bands
        'bb_std': 2,                    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π
        'atr_period': 14                 # –ü–µ—Ä–∏–æ–¥ ATR
    }
}

# –°–ª–æ–≤–∞—Ä—å —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–º–ø–∞–Ω–∏–π (–¥–ª—è –æ—Ç—á–µ—Ç–æ–≤)
COMPANY_NAMES = {
    'SBER': '–°–±–µ—Ä–±–∞–Ω–∫',
    'VTBR': '–í–¢–ë',
    'GAZP': '–ì–∞–∑–ø—Ä–æ–º',
    'T': '–ú–¢–°',
    'SNGSP': '–°—É—Ä–≥—É—Ç–Ω–µ—Ñ—Ç–µ–≥–∞–∑ (–∞–ø)',
    'AFLT': '–ê—ç—Ä–æ—Ñ–ª–æ—Ç',
    'GMKN': '–ù–æ—Ä–Ω–∏–∫–µ–ª—å',
    'SMLT': '–°–ú–õ–¢',
    'LKOH': '–õ—É–∫–æ–π–ª',
    'YDEX': '–Ø–Ω–¥–µ–∫—Å',
    'SVCB': '–°–æ–≤–∫–æ–º–±–∞–Ω–∫',
    'PLZL': '–ü–æ–ª—é—Å',
    'ROSN': '–†–æ—Å–Ω–µ—Ñ—Ç—å',
    'SNGS': '–°—É—Ä–≥—É—Ç–Ω–µ—Ñ—Ç–µ–≥–∞–∑',
    'AFKS': '–ê–§–ö –°–∏—Å—Ç–µ–º–∞',
    'X5': 'X5 Retail Group',
    'SBERP': '–°–±–µ—Ä–±–∞–Ω–∫ (–∞–ø)',
    'NVTK': '–ù–æ–≤–∞—Ç—ç–∫',
    'MOEX': '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞',
    'CHMF': '–°–µ–≤–µ—Ä—Å—Ç–∞–ª—å',
    'VKCO': 'VK',
    'PIKK': '–ü–ò–ö',
    'NLMK': '–ù–õ–ú–ö',
    'SPBE': '–°–ü–ë –ë–∏—Ä–∂–∞',
    'MGNT': '–ú–∞–≥–Ω–∏—Ç',
    'MTSS': '–ú–¢–°',
    'HEAD': 'HeadHunter',
    'ALRS': '–ê–ª—Ä–æ—Å–∞',
    'TRNFP': '–¢—Ä–∞–Ω—Å–Ω–µ—Ñ—Ç—å',
    'POSI': 'Positive Technologies',
    'TATN': '–¢–∞—Ç–Ω–µ—Ñ—Ç—å',
    'MTLR': '–ú–µ—á–µ–ª',
    'SIBN': '–ì–∞–∑–ø—Ä–æ–º –Ω–µ—Ñ—Ç—å',
    'UPRO': '–Æ–Ω–∏–ø—Ä–æ',
    'RNFT': '–†—É—Å—Å–Ω–µ—Ñ—Ç—å',
    'FLOT': '–°–æ–≤–∫–æ–º—Ñ–ª–æ—Ç'
}

# –°–ª–æ–≤–∞—Ä—å —Å —Å–µ–∫—Ç–æ—Ä–∞–º–∏ (–¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏)
SECTOR_MAP = {
    'SBER': 'Finance',
    'VTBR': 'Finance',
    'SBERP': 'Finance',
    'MOEX': 'Finance',
    
    'GAZP': 'Energy',
    'LKOH': 'Energy',
    'ROSN': 'Energy',
    'SNGS': 'Energy',
    'SNGSP': 'Energy',
    'TATN': 'Energy',
    'SIBN': 'Energy',
    'RNFT': 'Energy',
    'TRNFP': 'Energy',
    'NVTK': 'Energy',
    'UPRO': 'Energy',
    
    'GMKN': 'Metals',
    'PLZL': 'Metals',
    'CHMF': 'Metals',
    'NLMK': 'Metals',
    'ALRS': 'Metals',
    'MTLR': 'Metals',
    
    'YDEX': 'IT',
    'VKCO': 'IT',
    'HEAD': 'IT',
    'POSI': 'IT',
    'SPBE': 'IT',
    
    'AFKS': 'Conglomerate',
    'T': 'Telecom',
    'MTSS': 'Telecom',
    
    'AFLT': 'Transport',
    'FLOT': 'Transport',
    
    'PIKK': 'Real Estate',
    'MGNT': 'Retail',
    'X5': 'Retail',
    
    'SVCB': 'Finance',
    'SMLT': 'Unknown'  # –ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å —Å–µ–∫—Ç–æ—Ä –¥–ª—è –°–ú–õ–¢
}

# –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TRADING_CONFIG
# –¥–æ–±–∞–≤–ª—è–µ–º —Ç–∞–∫–∂–µ COMPANY_NAMES –∏ SECTOR_MAP –∫–∞–∫ —á–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞
TRADING_CONFIG['company_names'] = COMPANY_NAMES
TRADING_CONFIG['sector_map'] = SECTOR_MAP


# –ï—Å–ª–∏ —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
if __name__ == "__main__":
    print(f"\n{'='*60}")
    print(f"üìä –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –¢–û–†–ì–û–í–û–ì–û –ë–û–¢–ê")
    print(f"{'='*60}")
    
    print(f"\nüìà –í—Å–µ–≥–æ –∞–∫—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: {len(ALL_TICKERS)}")
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º
    sectors = {}
    for ticker, sector in SECTOR_MAP.items():
        if ticker in ALL_TICKERS:
            sectors[sector] = sectors.get(sector, 0) + 1
    
    print(f"\nüè¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º:")
    for sector, count in sorted(sectors.items(), key=lambda x: x[1], reverse=True):
        print(f"  {sector}: {count} –∞–∫—Ü–∏–π")
    
    print(f"\nüìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤:")
    # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ 10 —Ç–∏–∫–µ—Ä–æ–≤
    for i in range(0, len(ALL_TICKERS), 10):
        print("  " + " ".join(ALL_TICKERS[i:i+10]))
    
    print(f"\n{'='*60}")